<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A/B Testing Platform</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        :root {
            /* Light theme colors */
            --bg-primary: #f8f8f8;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #e9ecef;
            --bg-accent: #4b5563;
            --bg-input: #ffffff;
            --bg-card: #ffffff;
            --bg-hover: #e9ecef;
            --bg-section-header: #f8f9fa;
            --bg-section-header-hover: #e9ecef;
            
            --text-primary: #2c3e50;
            --text-secondary: #6c757d;
            --text-muted: #495057;
            --text-light: #ffffff;
            --text-accent: #1976d2;
            
            --border-color: #e2e8f0;
            --border-light: #dee2e6;
            --border-medium: #9ca3af;
            
            --shadow-light: 0 2px 12px rgba(0,0,0,0.06);
            --shadow-medium: 0 4px 20px rgba(0,0,0,0.08);
            --shadow-card: 0 1px 4px rgba(0,0,0,0.05);
            
            --accent-blue: #1976d2;
            --accent-blue-hover: #1565c0;
            --accent-red: #dc2626;
            --accent-green: #28a745;
            
            --chart-bg: #f8f9fa;
            --note-bg: #f8f9fa;
            --metric-bg: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        [data-theme="dark"] {
            /* Dark theme colors */
            --bg-primary: #4c4c4c;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #3a3a3a;
            --bg-accent: #374151;
            --bg-input: #2d2d2d;
            --bg-card: #262626;
            --bg-hover: #3a3a3a;
            --bg-section-header: #2d2d2d;
            --bg-section-header-hover: #3a3a3a;
            
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --text-light: #ffffff;
            --text-accent: #60a5fa;
            
            --border-color: #374151;
            --border-light: #4b5563;
            --border-medium: #6b7280;
            
            --shadow-light: 0 2px 12px rgba(0,0,0,0.3);
            --shadow-medium: 0 4px 20px rgba(0,0,0,0.4);
            --shadow-card: 0 1px 4px rgba(0,0,0,0.2);
            
            --accent-blue: #60a5fa;
            --accent-blue-hover: #3b82f6;
            --accent-red: #ef4444;
            --accent-green: #22c55e;
            
            --chart-bg: #2d2d2d;
            --note-bg: #2d2d2d;
            --metric-bg: linear-gradient(135deg, #2d2d2d 0%, #3a3a3a 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            color: var(--text-primary);
            padding-top: 140px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 15px 15px 15px;
        }
        .header {
            position: fixed;
            top: 0px;
            left: 0;
            right: 0;
            z-index: 1000;
            background: var(--bg-primary);
            margin: 0;
            display: flex;
            justify-content: center;
            transition: background-color 0.3s ease;
        }

        .header-container {
            max-width: 1400px;
            width: 100%;
            margin: 0;
            padding: 0 20px;
        }

        /* Theme Toggle Button */
        .theme-toggle {
            width: 32px;
            height: 32px;
            border: 1px solid #9ca3af;
            background: #6b7280;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #f3f4f6;
            font-size: 13px;
            transition: all 0.2s;
        }

        .theme-toggle:hover {
            background: rgba(156, 163, 175, 0.2);
            color: #ffffff;
            transform: translateY(-1px);
        }

        .theme-toggle .sun-icon {
            display: block;
        }

        .theme-toggle .moon-icon {
            display: none;
        }

        [data-theme="dark"] .theme-toggle .sun-icon {
            display: none;
        }

        [data-theme="dark"] .theme-toggle .moon-icon {
            display: block;
        }

        .main-header {
            padding: 12px 18px;            
            background: rgb(67, 87, 107); 
            border: 1px solid var(--border-medium);
            border-top: none;
            transition: background-color 0.3s ease;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px; 
   
        }

        .header-row {
            display: flex;
            align-items: center;
            gap: 20px;    
        }

        .id-badge {
            background: var(--accent-blue);
            color: white;
            padding: 8px 14px;
            border-radius: 8px;
            font-family: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
            font-size: 16px;
            font-weight: 700;
        }

        .title-area {
            flex: 1;
            min-width: 0;
        }

        .experiment-title {
            font-size: 16px;
            font-weight: 700;
            color: #ffffff;
            line-height: 1.3;
            margin: 0;
        }

        .meta-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

        .meta-left {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .platform-chips {
            display: flex;
            gap: 6px;
        }

        .platform-chip {
            background: #6b7280;
            color: #f3f4f6;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .platform-chip:hover {
            background: #9ca3af;
            color: #ffffff;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.4);
        }

        .platform-chip.active {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-blue-hover) 100%);
            color: white;
            font-weight: 700;
            box-shadow: 0 1px 2px rgba(75, 85, 99, 0.2);
        }

        .subscriber-pill {
            display: flex;
            align-items: center;
            background: #6b7280;
            border: 1px solid #9ca3af;
            border-radius: 20px;
            padding: 0;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .heart-section {
            padding: 6px 8px 6px 12px;
            display: flex;
            align-items: center;
            position: relative;
            border-right: 1px solid #9ca3af;
            transition: all 0.2s;
        }

        .heart-section:hover {
            background: rgba(156, 163, 175, 0.2);
        }

        .subscribers-section {
            padding: 6px 12px 6px 8px;
            display: flex;
            align-items: center;
            transition: all 0.2s;
        }

        .subscribers-section:hover {
            background: rgba(156, 163, 175, 0.2);
        }

        .subscriber-pill:hover {
            background: #6b7280;
            border-color: #d1d5db;
        }

        /* Experiment Status Card Styles */
.experiment-status-card {
    background: var(--bg-card);
    border-radius: 16px;
    padding: 32px 24px;
    margin-bottom: 24px;
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-light);
    max-width: 280px;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
    transition: all 0.3s ease;
}

.warning-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: #dc2626;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: white;
    transition: all 0.2s ease;
    /* No shadows, no gradients as requested */
}

.warning-btn:hover {
    background: #b91c1c;
    transform: scale(1.1);
}

.warning-btn:active {
    transform: scale(0.95);
}

.warning-platform-name {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-primary);
}

.status-card-action {
    margin-top: 8px;
}

.status-card-btn {
    width: 100%;
    padding: 16px 24px;
    border-radius: 12px;
    border: none;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.status-card-start {
    background: #22c55e;
    color: white;
}

.status-card-start:hover {
    background: #16a34a;
    transform: translateY(-1px);
}

.status-card-start:active {
    transform: translateY(0);
}

        /* Responsive adjustments for the status card */
        @media (max-width: 768px) {
            .experiment-status-card {
                max-width: 100%;
                margin-bottom: 20px;
                padding: 24px 20px;
            }
            
            .main-platform-icon {
                width: 64px;
                height: 64px;
            }
            
            .main-platform-icon svg {
                width: 36px;
                height: 36px;
            }
            
            .warning-btn {
                width: 28px;
                height: 28px;
            }
            
            .warning-btn svg {
                width: 14px;
                height: 14px;
            }
            
            .warning-platform-name {
                font-size: 16px;
            }
            
            .status-card-btn {
                padding: 14px 20px;
                font-size: 14px;
            }
        }

        /* Subscribers Modal */
        .subscribers-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .subscribers-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .subscribers-modal-content {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 24px;
            max-width: 400px;
            width: 90%;
            max-height: 500px;
            box-shadow: var(--shadow-medium);
            border: 1px solid var(--border-color);
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .subscribers-modal.show .subscribers-modal-content {
            transform: translateY(0);
        }

        .subscribers-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-light);
        }

        .subscribers-modal-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .subscribers-modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .subscribers-modal-close:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .subscribers-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .subscriber-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-light);
        }

        .subscriber-item:last-child {
            border-bottom: none;
        }

        .subscriber-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--accent-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }

        .subscriber-details {
            flex: 1;
        }

        .subscriber-name {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 14px;
        }

        .subscriber-role {
            color: var(--text-secondary);
            font-size: 12px;
            margin-top: 2px;
        }

        .subscriber-date {
            color: var(--text-secondary);
            font-size: 12px;
            margin-right: 16px;
            flex-shrink: 0;
        }

        .subscriber-pill .subscription-tooltip {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 1001;
        }

        .subscriber-pill .subscription-tooltip::before {
            content: '';
            position: absolute;
            top: -4px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-bottom: 4px solid rgba(0, 0, 0, 0.9);
        }

        .subscriber-pill:hover .subscription-tooltip {
            opacity: 1;
        }

        .heart-icon {
            color: #f3f4f6;
            font-size: 14px;
            transition: all 0.2s;
        }

        .subscriber-pill:hover .heart-icon {
            color: #ef4444;
            transform: scale(1.1);
        }

        .subscriber-pill.subscribed .heart-icon {
            color: #ef4444;
        }

        .subscriber-info {
            font-size: 13px;
            color: #ffffff;
            font-weight: 600;
        }

        .approval-compact {
            color: #f3f4f6;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
            margin-top: 4px;
        }

        .meta-right {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .tool-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: white;
            border-radius: 50%; /* Change from 6px to 50% for perfect circles */
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #6c757d;
            font-size: 13px;
            transition: all 0.2s;
            box-shadow: none;
        }

        .theme-toggle {
            width: 32px;
            height: 32px;
            border: none;
            background: white;
            border-radius: 50%; /* Change from 6px to 50% for perfect circles */
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #6c757d;
            font-size: 13px;
            transition: all 0.2s;
            box-shadow: none;
        }

        .tool-btn:hover {
            background: #9ca3af;
            border-color: #d1d5db;
            color: #ffffff;
            transform: translateY(-1px);
        }

        .heart-outline {
            display: inline;
        }

        .heart-filled {
            display: none;
        }

        .subscriber-pill.subscribed .heart-outline {
            display: none;
        }

        .subscriber-pill.subscribed .heart-filled {
            display: inline !important;
            animation: heartPulse 0.3s ease-out;
        }

        @keyframes heartPulse {
            0% { transform: scale(0.8); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* Tab Navigation Styles */
        .tab-navigation {
            padding: 6px 6px 6px 10px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            border-left: 1px solid var(--border-color);
            border-right: 1px solid var(--border-color);
            
            border-radius: 0 0 8px 8px;
            transition: background-color 0.3s ease;
        }

        .tab-list {
            display: flex;
            gap: 0;
            max-width: 1400px;
            margin: 0 auto;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .tab-list::-webkit-scrollbar {
            display: none;
        }

        .tab-item {
            position: relative;
            padding: 10px 16px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
            border: none;
            border-radius: 6px;
            transition: all 0.15s ease-out;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 6px;
            margin: 6px 3px;
        }

        .tab-item:hover {
            color: var(--text-primary);
            background: var(--bg-hover);
            border: none;
            border-radius: 6px;
            margin: 6px 3px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03), 0 1px 2px rgba(0, 0, 0, 0.02);
            position: relative;
            z-index: 1;
        }

        .tab-item.active {
            color: white;
            background: var(--accent-blue);
            border: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 6px 3px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.03);
            position: relative;
            z-index: 1;
        }

        /* Tab Content Styles */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .workflow-section {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 16px;
            margin-top: 12px;
            margin-bottom: 12px;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .workflow-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .workflow-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .workflow-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .workflow-stage {
            color: var(--accent-blue);
            font-weight: 600;
        }

        .workflow-eta {
            color: var(--text-secondary);
        }

        .workflow-metrics {
            display: flex;
            gap: 24px;
            margin-bottom: 24px;
            padding: 20px 24px;
            background: var(--metric-bg);
            border-radius: 12px;
        }

        .metric {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            flex: 1;
            padding: 16px;
            background: var(--bg-card);
            border-radius: 8px;
            box-shadow: var(--shadow-card);
            transition: all 0.2s ease;
        }

        .metric:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .metric-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--accent-blue);
            line-height: 1;
        }

        .metric-label {
            font-size: 13px;
            color: var(--text-secondary);
            text-align: center;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .workflow-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            padding: 0 24px;
        }

        .workflow-steps::before {
            content: '';
            position: absolute;
            top: 24px;
            left: 48px;
            right: 48px;
            height: 2px;
            background: var(--border-light);
            z-index: 1;
        }

        .workflow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }

        .step-indicator {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: 3px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            transition: all 0.3s;
        }

        .workflow-step.completed .step-indicator {
            background: var(--accent-green);
            border-color: var(--accent-green);
            color: white;
        }

        .workflow-step.active .step-indicator {
            background: linear-gradient(135deg, var(--accent-blue) 0%, #42a5f5 100%);
            border-color: var(--accent-blue);
            color: white;
            box-shadow: 0 0 0 4px rgba(25, 118, 210, 0.2);
            animation: activeStepPulse 3s ease-in-out infinite;
        }

        @keyframes activeStepPulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 0 0 4px rgba(25, 118, 210, 0.2);
            }
            25% { 
                transform: scale(1.05);
                box-shadow: 0 0 0 8px rgba(25, 118, 210, 0.15);
            }
            50% { 
                transform: scale(1.08);
                box-shadow: 0 0 0 12px rgba(25, 118, 210, 0.1);
            }
            75% { 
                transform: scale(1.05);
                box-shadow: 0 0 0 8px rgba(25, 118, 210, 0.15);
            }
        }

        .step-label {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 4px;
        }

        .workflow-step.completed .step-label,
        .workflow-step.active .step-label {
            color: var(--text-primary);
            font-weight: 600;
        }

        .step-date {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* New Workflow Status Grid Styles */
        .workflow-status-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 16px;
            align-items: center; /* Vertically centers Production and Stage sections */
        }

        .status-section {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 16px;
            border: none;
            transition: all 0.3s ease;
        }

        .status-section-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 14px;
            text-align: center;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-light);
        }

        .platforms-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .platform-status-card {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 12px 8px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            height: 120px;
            justify-content: space-between;
            position: relative;
        }

        .platform-icon {
            color: var(--text-secondary);
            transition: none;
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .platform-name {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .status-btn {
            padding: 6px 14px;
            border-radius: 16px;
            border: none;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 60px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .status-btn-approve {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }

        .status-btn-approve:hover {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .status-btn-stop {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
        }

        .status-btn-stop:hover {
            background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .status-btn-start {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .status-btn-start:hover {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }


        .platform-warning-indicator {
            position: absolute;
            top: 8px;
            right: 8px;
            z-index: 10;
        }

        .mini-warning-btn {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #dc2626;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            transition: all 0.2s ease;
            /* No shadows, no gradients as requested */
        }

        .mini-warning-btn:hover {
            background: #b91c1c;
            transform: scale(1.15);
        }

        .mini-warning-btn:active {
            transform: scale(0.95);
        }

        .platform-status-card.has-warning {
            border-color: #dc2626;
            background: var(--bg-card);
        }

        .platform-status-card.has-warning:hover {
            border-color: #b91c1c;
            box-shadow: 0 2px 8px rgba(220, 38, 38, 0.15);
        }

        /* Winner Card Styles */
        .platform-status-card.winner-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: visible;
            justify-content: flex-start;
            gap: 8px;
        }

        .platform-status-card.winner-card:hover {
            transform: none;
            box-shadow: none;
            border-color: var(--border-color);
        }

        .experiment-status {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 4px;
        }

        .winner-badge {
            margin-top: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .winner-section {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .winner-card .experiment-status {
            margin-top: 0;
            font-size: 13px;
        }

        .medal-icon {
            width: 36px;
            height: 36px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
            animation: medalShine 2s ease-in-out infinite;
        }

        @keyframes medalShine {
            0%, 100% { 
                transform: scale(1) rotate(0deg);
                filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
            }
            50% { 
                transform: scale(1.05) rotate(5deg);
                filter: drop-shadow(0 4px 8px rgba(255,165,0,0.3));
            }
        }



        /* Responsive adjustments for mini warning buttons */
        @media (max-width: 768px) {
            .platform-warning-indicator {
                top: 6px;
                right: 6px;
            }
            
            .mini-warning-btn {
                width: 18px;
                height: 18px;
            }
            
            .mini-warning-btn svg {
                width: 10px;
                height: 10px;
            }
        }

        /* Mobile Responsive Styles for New Workflow */
        @media (max-width: 768px) {
            .workflow-status-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .platforms-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .platform-status-card {
                padding: 16px 12px;
                height: 160px;
            }
            
            .platform-icon-container {
                width: 40px;
                height: 40px;
            }
            
            .platform-icon {
                width: 24px;
                height: 24px;
            }
            
            .status-btn {
                padding: 10px 16px;
                font-size: 12px;
                min-width: 70px;
            }
        }

        /* Pre-Launch Checklist Styles */
        .checklist-task-item {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 14px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
            position: relative;
            border: 1px solid var(--border-light);
        }

        .checklist-task-item:hover {
            border-color: var(--accent-blue);
            box-shadow: 0 4px 12px rgba(25, 118, 210, 0.1);
        }

        .checklist-task-item.completed {
            background: var(--bg-card);
            border-color: var(--border-light);
            border-left: 3px solid var(--accent-green);
        }

        .checklist-task-item.required {
            background: var(--bg-card);
            border-color: var(--border-light);
            border-left: 3px solid var(--accent-red);
        }

        .task-header {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 10px;
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-medium);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 2px;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .task-checkbox.checked {
            background: var(--accent-green);
            border-color: var(--accent-green);
            color: white;
        }

        .task-title {
            font-weight: 600;
            color: var(--text-primary);
            flex-grow: 1;
            font-size: 14px;
        }

        .task-status {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .status-pending {
            background: #fef3c7;
            color: #78350f;
        }

        [data-theme="dark"] .status-pending {
            background: #78350f;
            color: #fef3c7;
        }

        .status-completed {
            background: #d1fae5;
            color: #065f46;
        }

        [data-theme="dark"] .status-completed {
            background: #065f46;
            color: #d1fae5;
        }

        .status-optional {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .task-description {
            color: var(--text-muted);
            font-size: 13px;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .task-details {
            background: var(--bg-secondary);
            border-radius: 6px;
            padding: 12px;
            font-size: 13px;
            color: var(--text-primary);
            line-height: 1.4;
            transition: background-color 0.3s ease;
        }

        .signed-off-by {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
            font-size: 13px;
            color: var(--accent-green);
            font-weight: 500;
        }

        .main-content {
            padding: 12px 0;
        }

        .section {
            background: var(--bg-card);
            border-radius: 8px;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-color);
            overflow: hidden;
            transition: all 0.3s ease;
            margin-bottom: 12px;
        }

        .section:hover {
            box-shadow: var(--shadow-medium);
        }

        .section-header {
            padding: 14px 18px;
            background: var(--bg-section-header);
            border-bottom: 1px solid var(--border-light);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .section-header.no-toggle {
            cursor: default;
        }

        .section-header:hover:not(.no-toggle) {
            background: var(--bg-section-header-hover);
        }

        .section-header h3 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 6px;
            flex: 1;
        }

        .section-icon {
            width: 20px;
            height: 20px;
        }

        .toggle-icon {
            transition: transform 0.2s ease;
            color: var(--text-secondary);
        }

        .section.expanded .toggle-icon {
            transform: rotate(180deg);
        }

        .section-content {
            padding: 0 18px;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 0.25s ease, opacity 0.2s ease, padding 0.25s ease;
        }

        .section.expanded .section-content {
            padding: 16px 18px;
            max-height: 2000px;
            opacity: 1;
        }

/* Enhanced Platform Status Cards */
.platform-status-card.enhanced-card {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
}

/* Standardize ALL platform icon containers to same size */
.platform-icon-container {
    width: 32px;
    height: 32px;
    min-width: 32px;
    min-height: 32px;
    border-radius: 50%;
    background: var(--bg-tertiary);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 4px;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.platform-icon-container.enhanced {
    width: 64px;
    height: 64px;
    background: var(--bg-accent);
    color: white;
    margin-bottom: 8px;
}

.platform-icon-container.enhanced svg {
    width: 48px;
    height: 48px;
}

.platform-name-with-warning {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: center;
    margin-bottom: 8px;
    flex-wrap: wrap;
    line-height: 1; /* Add this */
}

.platform-name-with-warning .platform-name {
    line-height: 1; /* Add this rule */
    margin: 0; /* Add this */
    display: flex; /* Add this */
    align-items: center; /* Add this */
}

.winner-card .medal-icon {
    width: 32px;
    height: 32px;
}

.warning-btn-inline {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #dc2626;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: white;
    transition: all 0.2s ease;
    flex-shrink: 0;
    order: -1; /* Places warning icon before the text */
    font-size: 14px;
    font-weight: bold;
    line-height: 1;
}

.warning-btn-inline:hover {
    background: #b91c1c;
    transform: scale(1.05);
}

.warning-btn-inline:active {
    transform: scale(0.95);
}

/* Enhanced cards get slightly different styling for action buttons */
.enhanced-card .status-btn {
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.15);
}

.enhanced-card .status-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

        /* For single sections in tabs, show content only when expanded or when no-toggle */
        .tab-content .section.expanded .section-content,
        .tab-content .section .section-header.no-toggle + .section-content {
            padding: 16px 18px;
            max-height: 2000px;
            opacity: 1;
        }

        .tab-content .section .section-content {
            padding: 0 18px;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }

        .tab-content .section .section-header.no-toggle + .section-content {
            transition: none;
        }

        .platform-specific {
            position: relative;
        }

        .variants-container {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .pie-chart-container {
            position: relative;
            background: var(--chart-bg);
            border-radius: 8px;
            padding: 24px;
            transition: background-color 0.3s ease;
            width: 240px;
            flex-shrink: 0;
        }

        .variants-list {
            display: flex;
            flex-direction: column;
            gap: 14px;
            justify-content: flex-start;
            flex: 1;
        }

        .variant-item {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 14px;
            transition: all 0.3s ease;
        }

        .variant-item:hover {
            border-color: var(--accent-blue);
            box-shadow: 0 4px 12px rgba(25, 118, 210, 0.1);
        }

        .variant-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .variant-label {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .variant-percentage {
            background: var(--accent-blue);
            color: white;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 600;
        }

        .variant-description {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .variant-a {
            border-left: 4px solid #ff6b6b;
        }

        .variant-b {
            border-left: 4px solid #4ecdc4;
        }

        .variant-c {
            border-left: 4px solid #9b59b6;
        }

        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
        }

        .config-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .config-item.full-width {
            grid-column: 1 / -1;
        }

        .config-label {
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .config-value {
            font-size: 16px;
            color: var(--text-primary);
            padding: 8px 0;
        }

        .form-group {
            margin-bottom: 12px;
        }

        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--text-muted);
        }

        .form-input, .form-select {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: var(--bg-input);
            color: var(--text-primary);
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .checkbox-input {
            width: 18px;
            height: 18px;
            accent-color: var(--accent-blue);
        }

        .checkbox-label {
            font-size: 14px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .chart-container {
            position: relative;
            height: 280px;
            margin-top: 16px;
        }

        .file-upload {
            border: 2px dashed var(--border-light);
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            background: var(--bg-secondary);
        }

        .file-upload:hover {
            border-color: var(--accent-blue);
            background: rgba(25, 118, 210, 0.05);
        }

        .file-upload-icon {
            width: 48px;
            height: 48px;
            color: var(--text-secondary);
            margin: 0 auto 16px;
        }

        .note-item {
            background: var(--note-bg);
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 12px;
            transition: background-color 0.3s ease;
        }

        .note-author {
            font-weight: 600;
            color: var(--accent-blue);
            margin-bottom: 4px;
        }

        .note-date {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .audit-item {
            padding: 12px 0;
        }

        .audit-item:last-child {
            border-bottom: none;
        }

        .audit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .audit-user {
            font-weight: 600;
            color: var(--text-primary);
        }

        .audit-date {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .audit-changes {
            font-size: 14px;
            color: var(--text-muted);
            font-family: 'Monaco', 'Menlo', monospace;
            background: var(--bg-secondary);
            padding: 8px;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .banners-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .banner-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: var(--bg-secondary);
            border-radius: 6px;
            font-size: 14px;
            border: 1px solid var(--border-color);
            transition: background-color 0.3s ease;
        }

        .banner-checkbox {
            width: 16px;
            height: 16px;
            accent-color: var(--accent-blue);
        }

        .individual-banners {
            transition: all 0.3s ease;
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
        }

        .individual-banners.hidden {
            display: none;
        }

        .date-input {
            position: relative;
        }

        .date-input input[type="date"] {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: var(--bg-input);
            color: var(--text-primary);
            color-scheme: light dark;
        }

        .date-input input[type="date"]:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }

        .spaces-container {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 14px;
            transition: background-color 0.3s ease;
        }

        .spaces-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .space-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            background: var(--bg-card);
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-muted);
            box-shadow: var(--shadow-card);
            transition: all 0.2s ease;
        }

        .space-item.home-space {
            background: #ff6b6b;
            border: none;
        }

        .space-item.home-space .space-icon {
            color: white;
        }

        .space-item.home-space .space-name {
            color: white;
        }

        .space-item.search-space {
            background: #06b6d4;
            border: none;
        }

        .space-item.search-space .space-icon {
            color: white;
        }

        .space-item.search-space .space-name {
            color: white;
        }

        .space-icon {
            color: var(--text-secondary);
            flex-shrink: 0;
        }

        .space-name {
            color: var(--text-primary);
        }

        .space-count {
            background: var(--text-secondary);
            color: white;
            padding: 0;
            border-radius: 50%;
            font-size: 12px;
            font-weight: 600;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .space-count:hover {
            background: var(--accent-red);
            transform: scale(1.1);
        }

        .btn {
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--accent-blue);
            color: white;
            border: 1px solid var(--accent-blue);
        }

        .btn-primary:hover {
            background: var(--accent-blue-hover);
            border-color: var(--accent-blue-hover);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-muted);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--bg-hover);
        }

/* Platform Name with Inline Warning Icon */
.platform-name-with-warning {
    display: flex;
    align-items: center;
    gap: 6px;
    justify-content: center;
    margin-bottom: 8px;
}

.inline-warning-btn {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #dc2626;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: white;
    transition: all 0.2s ease;
    flex-shrink: 0;
    /* No shadows, no gradients as requested */
}

.inline-warning-btn:hover {
    background: #b91c1c;
    transform: scale(1.15);
}

.inline-warning-btn:active {
    transform: scale(0.95);
}



.platform-status-card.has-warning:hover {
    /* Same hover effect as regular cards */
    transform: translateY(-2px);
    box-shadow: var(--shadow-card);
    border-color: var(--accent-blue);
}

        /* Experiment Isolation Styles */
        .isolation-container {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 14px;
            transition: background-color 0.3s ease;
        }

        .assignment-card {
            background: var(--bg-card);
            border-radius: 8px;
            padding: 14px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .assignment-card:hover {
            border-color: var(--accent-blue);
            box-shadow: 0 2px 8px rgba(25, 118, 210, 0.1);
        }

        .assignment-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 24px;
            align-items: start;
        }

        .assignment-divider {
            width: 1px;
            height: 100%;
            min-height: 120px;
            background: var(--border-light);
            justify-self: center;
        }

        .assignment-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .assignment-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 4px 0;
        }

        .assignment-label {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .assignment-value {
            font-size: 13px;
            color: var(--text-primary);
            font-weight: 600;
        }

        .assignment-value.pool-id,
        .assignment-value.lane-id {
            font-family: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
            font-size: 12px;
            background: var(--bg-tertiary);
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px solid var(--border-light);
        }

        .assignment-value.traffic-allocation {
            background: var(--accent-green);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
        }

        @media (max-width: 768px) {
            body {
                padding-top: 180px;
            }
            
            .header-row {
                flex-direction: column;
                align-items: stretch;
                gap: 8px;
            }
            
            .meta-footer {
                flex-direction: column;
                gap: 8px;
                align-items: stretch;
            }

            .meta-left, .meta-right {
                justify-content: center;
            }
            
            .variants-container {
                flex-direction: column;
                gap: 16px;
            }
            
            .workflow-steps {
                flex-direction: column;
                gap: 12px;
            }
            
            .workflow-steps::before {
                display: none;
            }
            
            .workflow-metrics {
                flex-direction: column;
                gap: 4px;
            }
            
            .metric {
                padding: 6px 4px;
            }
            
            .metric-value {
                font-size: 12px;
            }
            
            .spaces-list {
                justify-content: center;
            }

            .tab-list {
                padding: 0 8px;
            }

            .tab-item {
                padding: 8px 12px;
                font-size: 12px;
            }

            /* Mobile styles for Experiment Isolation */
            .assignment-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .assignment-divider {
                width: 100%;
                height: 1px;
                min-height: 1px;
            }

            .assignment-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 2px;
            }

            .assignment-label {
                font-size: 11px;
            }

            .assignment-value {
                font-size: 11px;
            }

            .workflow-status-grid {
                grid-template-columns: 1fr;
                gap: 14px;
                align-items: stretch;
            }
            
            .platform-icon-container {
                width: 28px;
                height: 28px;
            }
            
            .platform-icon {
                width: 16px;
                height: 16px;
            }
            
            .warning-btn-inline {
                width: 14px;
                height: 14px;
                font-size: 10px;
            }
            
            .platform-name-with-warning {
                gap: 4px;
            }
            
        }
    </style>
</head>
<body data-theme="light">
    <!-- Sticky Header -->
    <div class="header">
        <div class="header-container">
            <!-- Tool Buttons (moved outside header background) -->
        <div style="background: var(--bg-primary); padding: 8px 24px; display: flex; justify-content: flex-end; gap: 12px;">
            <button class="theme-toggle" id="theme-toggle" title="Toggle theme">
                <svg class="sun-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
                </svg>
                <svg class="moon-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
                </svg>
            </button>
            <button class="tool-btn" title="Copy">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2z"/>
                </svg>
            </button>
            <button class="tool-btn" title="Edit">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10 2.708 2.708z"/>
                </svg>
            </button>
            <button class="tool-btn" title="Delete">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                    <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                </svg>
            </button>
        </div>

            <!-- Main Header -->
            <div class="main-header">
                <div class="header-row">
                    <div class="id-badge">2ad3de</div>
                    
                <div class="title-area">
                    <h1 class="experiment-title">P8W1 Home App & Web New For You PZN Science Place Recommendations Test</h1>

                </div>
                    
                    <div class="subscriber-pill">
                        <div class="heart-section" id="heart-toggle">
                            <span class="heart-icon heart-outline">♡</span>
                            <span class="heart-icon heart-filled">♥</span>
                            <div class="subscription-tooltip">Subscribe to get notifications</div>
                        </div>
                        <div class="subscribers-section" id="subscribers-button">
                            <span class="subscriber-info"><span id="subscriber-count">12</span> Subscribers</span>
                        </div>
                    </div>
                </div>
                
                <div class="meta-footer">
                <div class="meta-left">
                </div>
                    
                <div class="meta-right">
                </div>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <div class="tab-list">
                    <div class="tab-item active" data-tab="workflow">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M1.5 1.5A.5.5 0 0 1 2 1h4.5a.5.5 0 0 1 0 1H2v4.5a.5.5 0 0 1-1 0V1.5zm13 0a.5.5 0 0 0-.5-.5H9.5a.5.5 0 0 0 0 1H14v4.5a.5.5 0 0 0 1 0V1.5zM2 14.5a.5.5 0 0 1-.5-.5V9.5a.5.5 0 0 1 1 0V14h4.5a.5.5 0 0 1 0 1H1.5zm13 0a.5.5 0 0 0 .5-.5V9.5a.5.5 0 0 0-1 0V14H9.5a.5.5 0 0 0 0 1h4.5z"/>
                            <path d="M5 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
                        </svg>
                        Workflow
                    </div>
                    <div class="tab-item" data-tab="configuration">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                            <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319z"/>
                        </svg>
                        Configuration
                    </div>
                    <div class="tab-item" data-tab="results">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5v12h-2V2h2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zM1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3z"/>
                        </svg>
                        Results
                    </div>
                    <div class="tab-item" data-tab="notes">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M4 1h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4z"/>
                            <path d="M4.5 4a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zM4 6.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 6.5zm0 3a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 4 9.5z"/>
                        </svg>
                        Notes
                    </div>
                    <div class="tab-item" data-tab="attachments">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z"/>
                        </svg>
                        Attachments
                    </div>
                    <div class="tab-item" data-tab="audit">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                        </svg>
                        Audit Log
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Tab Contents -->
        
        <!-- Workflow Tab Content -->
        <div class="tab-content active" id="workflow-tab">
           
        <!-- Workflow-section -->
        <div class="workflow-section">
            <div class="workflow-header">
                <h3 class="workflow-title">Experiment Workflow</h3>
            </div>
            
            <!-- Platform Grid -->
            <div class="workflow-status-grid">
                <!-- Production Section -->
                <div class="status-section">
                    <h4 class="status-section-title">Production Environment</h4>
                    <div class="platforms-grid">
                        <!-- Enhanced iOS Card in Production -->
                        <div class="platform-status-card enhanced-card">
                            <div class="platform-icon-container">
                                <svg class="platform-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
                                </svg>
                            </div>
                            <div class="platform-name-with-warning">
                                <button class="warning-btn-inline" title="iOS platform has conflicts">!</button>
                                <span class="platform-name">iOS</span>
                            </div>
                            <button class="status-btn status-btn-start">Start</button>
                        </div>
                        
            <div class="platform-status-card winner-card">
                <div class="platform-icon-container">
                    <svg class="platform-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                    </svg>
                </div>
                <div class="platform-name">Web</div>
                <div class="winner-section">
                    <div class="experiment-status">Ended</div>
                    <div class="winner-badge">
                        <svg class="medal-icon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                            <circle cx="12" cy="9" r="7" fill="#FFA500"/>
                            <circle cx="12" cy="9" r="5" fill="#FFD700"/>
                            <text x="12" y="13" text-anchor="middle" fill="#333" font-weight="bold" font-size="8">B</text>
                            <path d="M8 16l-2 6 6-2 6 2-2-6" fill="#FF6B35"/>
                        </svg>
                    </div>
                </div>
            </div>
                        
                        <div class="platform-status-card">
                            <div class="platform-icon-container">
                                <svg class="platform-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M17.523 15.3414c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9993.9993-.9993c.5511 0 .9993.4482.9993.9993.0001.5511-.4482.9997-.9993.9997m-11.046 0c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9993.9993-.9993c.5511 0 .9993.4482.9993.9993 0 .5511-.4482.9997-.9993.9997m11.4045-6.02l1.9973-11.301c.0998-.2489-.0997-.4985-.3986-.4985H6.9232c-.0997 0-.1993.0997-.1993.1992 0 .0997.0898.1993.1993.1993h9.9802L15.3929 4.68H4.6395c-.3986 0-.6477.2489-.6477.6476v11.3016c0 .3987.2491.6476.6477.6476h13.2637c.3986 0 .6477-.2489.6477-.6476V5.2275c-.0001-.5514-.4481-1.0002-.9999-1.0002" />
                                </svg>
                            </div>
                            <div class="platform-name">Android</div>
                            <button class="status-btn status-btn-stop">Stop</button>
                        </div>
                    </div>
                </div>
                
                <!-- Stage Section -->
                <div class="status-section">
                    <h4 class="status-section-title">Stage Environment</h4>
                    <div class="platforms-grid">
                        <div class="platform-status-card">
                            <div class="platform-icon-container">
                                <svg class="platform-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                                </svg>
                            </div>
                            <div class="platform-name">Web</div>
                            <button class="status-btn status-btn-approve">Approve</button>
                        </div>
                        
                        <!-- Enhanced Android Card in Stage -->
                        <div class="platform-status-card enhanced-card">
                            <div class="platform-icon-container">
                                <svg class="platform-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M17.523 15.3414c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9993.9993-.9993c.5511 0 .9993.4482.9993.9993.0001.5511-.4482.9997-.9993.9997m-11.046 0c-.5511 0-.9993-.4486-.9993-.9997s.4482-.9993.9993-.9993c.5511 0 .9993.4482.9993.9993 0 .5511-.4482.9997-.9993.9997m11.4045-6.02l1.9973-11.301c.0998-.2489-.0997-.4985-.3986-.4985H6.9232c-.0997 0-.1993.0997-.1993.1992 0 .0997.0898.1993.1993.1993h9.9802L15.3929 4.68H4.6395c-.3986 0-.6477.2489-.6477.6476v11.3016c0 .3987.2491.6476.6477.6476h13.2637c.3986 0 .6477-.2489.6477-.6476V5.2275c-.0001-.5514-.4481-1.0002-.9999-1.0002" />
                                </svg>
                            </div>
                            <div class="platform-name-with-warning">
                                <button class="warning-btn-inline" title="Android platform has conflicts">!</button>
                                <span class="platform-name">Android</span>
                            </div>
                            <button class="status-btn status-btn-stop">Stop</button>
                        </div>
                        
                        <div class="platform-status-card">
                            <div class="platform-icon-container">
                                <svg class="platform-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
                                </svg>
                            </div>
                            <div class="platform-name">iOS</div>
                            <button class="status-btn status-btn-start">Start</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


            <div class="section">
                <div class="section-header no-toggle">
                    <h3>
                        <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                        </svg>
                        Pre-Launch Checklist
                    </h3>
                </div>
                <div class="section-content">
                    <p style="margin-bottom: 20px; color: var(--text-secondary);">Complete all required tasks before starting your experiment</p>
                    
                    <!-- Task 1: Analytics Setup (Required - Listed First) -->
                    <div class="checklist-task-item required" data-task="analytics">
                        <div class="task-header">
                            <div class="task-checkbox" onclick="toggleTask(this)"></div>
                            <div class="task-title">Analytics Tagging Verification</div>
                            <div class="task-status status-pending">Pending</div>
                        </div>
                        <div class="task-description">
                            Ensure all the metrics you want to measure are available with analytics (tagging) in place.
                        </div>
                        <div class="task-details">
                            <strong>Adobe Analytics:</strong> This step must be completed before a member of our team can approve your submission request.
                            <br><br>
                            Verify that all required event tracking, conversion goals, and custom dimensions are properly configured for this experiment.
                        </div>
                    </div>

                    <!-- Task 2: Development Implementation -->
                    <div class="checklist-task-item completed" data-task="development">
                        <div class="task-header">
                            <div class="task-checkbox checked">✓</div>
                            <div class="task-title">Development Implementation</div>
                            <div class="task-status status-completed">Completed</div>
                        </div>
                        <div class="task-description">
                            Develop/implement the experiment using the approved ExperimentID/TestID and the corresponding AMP asset.
                        </div>
                        <div class="task-details">
                            Experiment has been properly implemented with the approved configuration and tested in the development environment.
                            <div class="signed-off-by">
                                ✓ Signed off by Reiber, Mitch on 07/28/2025, 10:15 AM
                            </div>
                        </div>
                    </div>

                    <!-- Task 3: Desk Check -->
                    <div class="checklist-task-item completed" data-task="desk-check">
                        <div class="task-header">
                            <div class="task-checkbox checked">✓</div>
                            <div class="task-title">Desk Check Verification</div>
                            <div class="task-status status-completed">Completed</div>
                        </div>
                        <div class="task-description">
                            Confirm that the team has desk checked their work to ensure that the experiment is set to run properly.
                        </div>
                        <div class="task-details">
                            Team has verified all experiment parameters, targeting criteria, and implementation details are correct.
                            <div class="signed-off-by">
                                ✓ Confirmed by Dupler, Tiffany on 07/07/2025, 3:14 PM
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Configuration Tab Content -->
        <div class="tab-content" id="configuration-tab">
            <div class="main-content">
                <!-- Hypothesis Section -->
                <div class="section expanded" data-section="hypothesis">
                    <div class="section-header">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            Hypothesis
                        </h3>
                        <svg class="toggle-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </div>
                    <div class="section-content">
                        <div style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; padding: 20px; transition: background-color 0.3s ease;">
                            <div style="color: var(--text-primary); line-height: 1.6; font-size: 15px;">
                                By implementing a streamlined one-click add to cart experience from search results, we expect to see increased conversion rates and reduced cart abandonment as users can more quickly and easily add products to their cart without additional navigation steps.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Variants Section -->
                <div class="section expanded" data-section="variants">
                    <div class="section-header">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M7 3v18h2v-8h6v8h2V3h-2v8H9V3H7z"/>
                                <path d="M3 12h4v2H3v-2z"/>
                                <path d="M17 12h4v2h-4v-2z"/>
                            </svg>
                            Variants
                        </h3>
                        <svg class="toggle-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </div>
                    <div class="section-content">
                        <p style="margin-bottom: 24px; color: var(--text-secondary);">Configure the control and variant experiences that are being tested.</p>
                        
                        <div class="variants-container">
                            <div class="pie-chart-container">
                                <canvas id="variantsPieChart"></canvas>
                            </div>
                            
                            <div class="variants-list">
                                <div class="variant-item variant-a">
                                    <div class="variant-header">
                                        <div class="variant-label">A — Current add to cart experience from search</div>
                                        <div class="variant-percentage">20%</div>
                                    </div>
                                    <div class="variant-description">
                                        Users see the standard add to cart experience when browsing products from search results. This represents the current user flow without any modifications.
                                    </div>
                                </div>

                                <div class="variant-item variant-b">
                                    <div class="variant-header">
                                        <div class="variant-label">B — New 1ATC experience from search</div>
                                        <div class="variant-percentage">40%</div>
                                    </div>
                                    <div class="variant-description">
                                        Users experience the new one-click add to cart (1ATC) functionality when browsing products from search results, streamlining the purchase process.
                                    </div>
                                </div>

                                <div class="variant-item variant-c">
                                    <div class="variant-header">
                                        <div class="variant-label">C — Enhanced 1ATC with quantity selector</div>
                                        <div class="variant-percentage">40%</div>
                                    </div>
                                    <div class="variant-description">
                                        Users get the one-click add to cart functionality plus an inline quantity selector, allowing them to add multiple items directly from search without navigating to product pages.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Configuration Section -->
                <div class="section expanded" data-section="configuration">
                    <div class="section-header">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97s-.03-.66-.07-.97l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.32-.07.65-.07.97s.03.66.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/>
                            </svg>
                            Configuration
                        </h3>
                        <svg class="toggle-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </div>
                    <div class="section-content">
                        <!-- Metrics Configuration -->
                        <div style="margin-bottom: 32px;">
                            <h4 style="margin-bottom: 20px; color: var(--text-primary); font-size: 16px; font-weight: 600; border-bottom: 1px solid var(--border-light); padding-bottom: 8px;">Metrics Configuration</h4>
                            <div class="config-grid">
                                <div class="config-item">
                                    <div class="config-label">Primary Metric</div>
                                    <select class="form-select" id="primary-metric">
                                        <option value="clicks-nav">Clicks (Nav Elements)</option>
                                        <option value="cart-adds">Cart Adds</option>
                                        <option value="orders-placed">Orders Placed</option>
                                        <option value="conversion-rate">Conversion Rate</option>
                                        <option value="revenue-per-user">Revenue Per User</option>
                                        <option value="order-revenue">Order Revenue Booked</option>
                                        <option value="page-views">Page Views</option>
                                        <option value="time-on-page">Time on Page</option>
                                        <option value="bounce-rate">Bounce Rate</option>
                                        <option value="session-duration">Session Duration</option>
                                    </select>
                                </div>
                                <div class="config-item full-width">
                                    <div class="config-label">Secondary Measures/Goals</div>
                                    <div class="secondary-metrics-container">
                                        <div class="metrics-grid">
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-orders" checked>
                                                <label for="secondary-orders" class="checkbox-label">Orders Placed</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-pageviews" checked>
                                                <label for="secondary-pageviews" class="checkbox-label">Page Views</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-clicks" checked>
                                                <label for="secondary-clicks" class="checkbox-label">Clicks (Nav Elements)</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-revenue" checked>
                                                <label for="secondary-revenue" class="checkbox-label">Order Revenue Booked</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-cart-adds">
                                                <label for="secondary-cart-adds" class="checkbox-label">Cart Adds</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-conversion">
                                                <label for="secondary-conversion" class="checkbox-label">Conversion Rate</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-rpu">
                                                <label for="secondary-rpu" class="checkbox-label">Revenue Per User</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-time">
                                                <label for="secondary-time" class="checkbox-label">Time on Page</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-bounce">
                                                <label for="secondary-bounce" class="checkbox-label">Bounce Rate</label>
                                            </div>
                                            <div class="checkbox-group">
                                                <input type="checkbox" class="checkbox-input" id="secondary-session">
                                                <label for="secondary-session" class="checkbox-label">Session Duration</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Experiment Setup -->
                        <div style="margin-bottom: 32px;">
                            <h4 style="margin-bottom: 20px; color: var(--text-primary); font-size: 16px; font-weight: 600; border-bottom: 1px solid var(--border-light); padding-bottom: 8px;">Allocations and Distributions</h4>
                            <div class="config-grid">
                                <div class="config-item">
                                    <div class="config-label">User Traffic Allocation</div>
                                    <input type="text" class="form-input" value="100%" placeholder="Enter allocation percentage">
                                </div>
                                <div class="config-item">
                                    <div class="config-label">Variant Distribution</div>
                                    <input type="text" class="form-input" value="20:40:40" placeholder="Enter distribution ratio">
                                </div>
                            </div>
                        </div>

                        <!-- Schedule -->
                        <div style="margin-bottom: 32px;">
                            <h4 style="margin-bottom: 20px; color: var(--text-primary); font-size: 16px; font-weight: 600; border-bottom: 1px solid var(--border-light); padding-bottom: 8px;">Schedule</h4>
                            <div class="config-grid">
                                <div class="config-item">
                                    <div class="config-label">Planned Start Date</div>
                                    <div class="date-input">
                                        <input type="date" value="2025-04-25">
                                    </div>
                                </div>
                                <div class="config-item">
                                    <div class="config-label">Planned End Date</div>
                                    <div class="date-input">
                                        <input type="date" value="2025-05-02">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Authentication -->
                        <div style="margin-bottom: 32px;">
                            <h4 style="margin-bottom: 20px; color: var(--text-primary); font-size: 16px; font-weight: 600; padding-bottom: 8px;">Authentication</h4>
                            <div class="checkbox-group">
                                <input type="checkbox" class="checkbox-input" id="authentication" checked>
                                <label for="authentication" class="checkbox-label">Authentication Required</label>
                            </div>
                        </div>

                        <div style="margin-top: 24px;">
                            <h4 style="margin-bottom: 16px;">Experiment Type</h4>
                            <div class="checkbox-group">
                                <input type="checkbox" class="checkbox-input" id="amp-experiment">
                                <label for="amp-experiment" class="checkbox-label">AMP Experiment</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" class="checkbox-input" id="server-side" checked>
                                <label for="server-side" class="checkbox-label">Server-side Experiment (Requires server-side technology)</label>
                            </div>
                        </div>
                        
                        <div style="margin-top: 24px;">
                            <h4 style="margin-bottom: 16px;">Banner Selection</h4>
                            <div class="banners-grid">
                                <div class="banner-item">
                                    <input type="checkbox" class="banner-checkbox" id="all-banners" checked>
                                    <label for="all-banners">All Banners</label>
                                </div>
                                <div class="individual-banners hidden">
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Kroger</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Baker's</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> City Market</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Dillons</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Food 4 Less</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Foods Co</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Fred Meyer</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Fry's</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Gerbes</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Harris Teeter</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Jay C Foods</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> King Soopers</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Mariano's</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Metro Market</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Pay-less</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Pick 'n Save</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> QFC</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Ralph's</div>
                                    <div class="banner-item"><input type="checkbox" class="banner-checkbox individual-banner" checked> Smith's Food & Drug</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Spaces Section -->
                <div class="section expanded" data-section="spaces">
                    <div class="section-header">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 3h18v4H3V3zm0 6h18v4H3V9zm0 6h18v4H3v-4z"/>
                            </svg>
                            Spaces
                        </h3>
                        <svg class="toggle-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </div>
                    <div class="section-content">
                        <p style="margin-bottom: 20px; color: var(--text-secondary);">Define the spaces where this experiment will run. Spaces help organize and prevent conflicts between experiments.</p>
                        
                        <div class="spaces-container">
                            <div class="spaces-selected">
                                <h4 style="margin-bottom: 16px; color: var(--text-primary); font-size: 16px; font-weight: 600;">Selected Spaces</h4>
                                <div class="spaces-list">
                                    <div class="space-item home-space">
                                        <svg class="space-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                            <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"/>
                                        </svg>
                                        <span class="space-name">Home</span>
                                        <span class="space-count" title="Remove space">×</span>
                                    </div>
                                    <div class="space-item search-space">
                                        <svg class="space-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                        </svg>
                                        <span class="space-name">Search</span>
                                        <span class="space-count" title="Remove space">×</span>
                                    </div>
                                </div>
                                
                                <button class="btn btn-secondary" style="margin-top: 16px;">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="margin-right: 8px;">
                                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    </svg>
                                    Add Space
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Experiment Isolation Section -->
                <div class="section expanded" data-section="isolation">
                    <div class="section-header">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2L1 21h22L12 2zm0 3.5L20.5 20h-17L12 5.5zM11 10v6h2v-6h-2zm0 8v2h2v-2h-2z"/>
                            </svg>
                            Experiment Isolation
                        </h3>
                        <svg class="toggle-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </div>
                    <div class="section-content">
                        <p style="margin-bottom: 20px; color: var(--text-secondary);">This experiment is assigned to a specific pool lane to ensure proper traffic isolation and prevent interference with other experiments.</p>
                        
                        <div class="isolation-container">
                            <div class="current-assignment">
                                <h4 style="margin-bottom: 16px; color: var(--text-primary); font-size: 16px; font-weight: 600;">Pool Lane Assignment</h4>
                                
                        <div class="assignment-card">
                            <div class="assignment-grid">
                                <div class="assignment-item">
                                    <div class="assignment-row">
                                        <span class="assignment-label">Pool:</span>
                                        <span class="assignment-value">Home & Search Experience Pool</span>
                                    </div>
                                    <div class="assignment-row">
                                        <span class="assignment-label">Pool ID:</span>
                                        <span class="assignment-value pool-id">PL-A8F3D2</span>
                                    </div>
                                    <div class="assignment-row">
                                        <span class="assignment-label">Pool Traffic:</span>
                                        <span class="assignment-value traffic-allocation">75%</span>
                                    </div>
                                </div>
                                
                                <div class="assignment-divider"></div>
                                
                                <div class="assignment-item">
                                    <div class="assignment-row">
                                        <span class="assignment-label">Lane:</span>
                                        <span class="assignment-value">Cart & Checkout Optimization Lane</span>
                                    </div>
                                    <div class="assignment-row">
                                        <span class="assignment-label">Lane ID:</span>
                                        <span class="assignment-value lane-id">LN-B4E9C1</span>
                                    </div>
                                    <div class="assignment-row">
                                        <span class="assignment-label">Lane Traffic:</span>
                                        <span class="assignment-value traffic-allocation">40%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                                
                                <button class="btn btn-primary" style="margin-top: 16px;">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="margin-right: 8px;">
                                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10 2.708 2.708z"/>
                                    </svg>
                                    Change Pool Lane Assignment
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Tab Content -->
        <div class="tab-content" id="results-tab">
            <div class="main-content">
                <div class="section platform-specific">
                    <div class="section-header no-toggle">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 3v18h18V3H3zm16 16H5V5h14v14z"/>
                                <path d="M7 17h2v-4H7v4zm4-6h2v6h-2v-6zm4-4h2v10h-2V7z"/>
                            </svg>
                            <span id="reporting-title">Results for iOS</span>
                        </h3>
                        <div class="platform-chips">
                            <span class="platform-chip" data-platform="web">Web</span>
                            <span class="platform-chip" data-platform="android">Android</span>
                            <span class="platform-chip active" data-platform="ios">iOS</span>
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="config-grid">
                            <div class="config-item">
                                <div class="config-label">Metric</div>
                                <select class="form-select">
                                    <option value="cart-adds" selected>Cart Adds</option>
                                    <option value="click-through-rate">Click Through Rate</option>
                                    <option value="conversion-rate">Conversion Rate</option>
                                    <option value="revenue-per-user">Revenue Per User</option>
                                    <option value="time-on-page">Time on Page</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-top: 24px;">
                            <h4 style="margin-bottom: 16px; color: var(--text-primary);">Trend Chart & Performance Metrics</h4>
                            <p style="color: var(--text-secondary); margin-bottom: 16px;">Data Source: Customer Journey Analytics</p>
                            
                            <div style="display: flex; gap: 16px; margin-bottom: 20px; flex-wrap: wrap;">
                                <select class="form-input" style="width: auto; min-width: 150px;">
                                    <option>Unique Visitors</option>
                                    <option>Cart Adds</option>
                                    <option>Conversions</option>
                                </select>
                                <select class="form-input" style="width: auto; min-width: 120px;">
                                    <option>Last Week</option>
                                    <option>Last Month</option>
                                    <option>Last Quarter</option>
                                </select>
                            </div>
                            
                            <div class="chart-container">
                                <canvas id="reportingChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notes Tab Content -->
        <div class="tab-content" id="notes-tab">
            <div class="main-content">
                <div class="section">
                    <div class="section-header no-toggle">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"/>
                                <path d="M8 10h8v2H8zm0 4h8v2H8zm0 4h5v2H8z"/>
                            </svg>
                            Notes
                        </h3>
                    </div>
                    <div class="section-content">
                        <p style="margin-bottom: 20px; color: var(--text-secondary);">Have questions or comments? Use this section to communicate with our team.</p>
                        
                        <div class="note-item">
                            <div class="note-author">Ellie Clyde</div>
                            <div class="note-date">about 1 month ago</div>
                            <div>test</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Add a new note</label>
                            <textarea class="form-input form-textarea" placeholder="Please enter your note"></textarea>
                        </div>
                        <button class="btn btn-primary">Add Note</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Attachments Tab Content -->
        <div class="tab-content" id="attachments-tab">
            <div class="main-content">
                <div class="section">
                    <div class="section-header no-toggle">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.44 11.05l-9.19 9.19c-1.28 1.28-3.36 1.28-4.64 0s-1.28-3.36 0-4.64l8.48-8.48c.76-.76 2-.76 2.76 0s.76 2 0 2.76l-7.07 7.07c-.24.24-.64.24-.88 0s-.24-.64 0-.88l6.01-6.01 1.06 1.06-6.01 6.01c-.71.71-1.85.71-2.56 0s-.71-1.85 0-2.56l7.07-7.07c1.22-1.22 3.2-1.22 4.42 0s1.22 3.2 0 4.42l-8.48 8.48c-1.74 1.74-4.56 1.74-6.3 0s-1.74-4.56 0-6.3l9.19-9.19 1.06 1.06z"/>
                            </svg>
                            Attachments
                        </h3>
                    </div>
                    <div class="section-content">
                        <div class="file-upload">
                            <svg class="file-upload-icon" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                            </svg>
                            <h4 style="margin-bottom: 8px;">Drag and drop files here</h4>
                            <p style="color: var(--text-secondary); margin-bottom: 16px;">or</p>
                            <button class="btn btn-primary">Browse Files</button>
                            <p style="margin-top: 16px; font-size: 14px; color: var(--text-secondary);">Supports JPG, PNG, MD, PDFs, and Microsoft suite files within a 40MB limit.</p>
                        </div>
                        <p style="margin-top: 16px; color: var(--text-secondary); font-style: italic;">No files have been uploaded yet.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audit Log Tab Content -->
        <div class="tab-content" id="audit-tab">
            <div class="main-content">
                <div class="section platform-specific">
                    <div class="section-header no-toggle">
                        <h3>
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 3v18h18V3H3zm16 16H5V5h14v14z"/>
                                <path d="M7 7h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z"/>
                            </svg>
                            <span id="audit-log-title">Audit Log for iOS experiment</span>
                        </h3>
                    </div>
                    <div class="section-content">
                        <div class="audit-item">
                            <div class="audit-header">
                                <div class="audit-user">Sinha, Nikhil</div>
                                <div class="audit-date">07/10/2025, 11:15 AM</div>
                            </div>
                            <div class="audit-changes">status updated "Pending" → "Running"</div>
                        </div>
                        
                        <div class="audit-item">
                            <div class="audit-header">
                                <div class="audit-user">Sinha, Nikhil</div>
                                <div class="audit-date">07/10/2025, 11:14 AM</div>
                            </div>
                            <div class="audit-changes">
                                readyToStart added true<br>
                                readyToStart_by added "Sinha, Nikhil"<br>
                                readyToStart_timestamp added 1752160495100
                            </div>
                        </div>
                        
                        <div class="audit-item">
                            <div class="audit-header">
                                <div class="audit-user">Sinha, Nikhil</div>
                                <div class="audit-date">06/26/2025, 4:34 PM</div>
                            </div>
                            <div class="audit-changes">
                                status updated "In Review" → "Pending"<br>
                                allocation added "100"<br>
                                distribution added "50:50"
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State management for tabs and sections
        let currentTab = 'workflow';
        let sectionStates = {
            hypothesis: true,
            variants: true,
            configuration: true,
            spaces: true,
            isolation: true,
            checklist: true
        };

        // Theme management
        let currentTheme = 'light';

        // Platform data (simulated)
        const platformData = {
            web: {
                reporting: [
                    { date: '2025-07-25', variant1: 305000, variant2: 302000, variant3: 298000 },
                    { date: '2025-07-26', variant1: 285000, variant2: 281000, variant3: 275000 },
                    { date: '2025-07-27', variant1: 302000, variant2: 301000, variant3: 295000 },
                    { date: '2025-07-28', variant1: 260000, variant2: 258000, variant3: 252000 },
                    { date: '2025-07-29', variant1: 285000, variant2: 280000, variant3: 278000 },
                    { date: '2025-07-30', variant1: 335000, variant2: 328000, variant3: 325000 },
                    { date: '2025-07-31', variant1: 310000, variant2: 305000, variant3: 308000 }
                ],
                audit: [
                    { user: 'Johnson, Sarah', date: '07/11/2025, 9:45 AM', changes: 'Web configuration updated for A/B/C test parameters' },
                    { user: 'Chen, David', date: '07/10/2025, 3:20 PM', changes: 'Web analytics tracking configured' }
                ]
            },
            android: {
                reporting: [
                    { date: '2025-07-25', variant1: 285000, variant2: 290000, variant3: 288000 },
                    { date: '2025-07-26', variant1: 275000, variant2: 278000, variant3: 276000 },
                    { date: '2025-07-27', variant1: 292000, variant2: 295000, variant3: 293000 },
                    { date: '2025-07-28', variant1: 255000, variant2: 260000, variant3: 258000 },
                    { date: '2025-07-29', variant1: 280000, variant2: 285000, variant3: 283000 },
                    { date: '2025-07-30', variant1: 320000, variant2: 325000, variant3: 322000 },
                    { date: '2025-07-31', variant1: 300000, variant2: 310000, variant3: 305000 }
                ],
                audit: [
                    { user: 'Anderson, Mike', date: '07/09/2025, 2:30 PM', changes: 'Android build deployed v2.1.3' },
                    { user: 'Chen, Li', date: '07/08/2025, 10:15 AM', changes: 'Android configuration updated' }
                ]
            },
            ios: {
                reporting: [
                    { date: '2025-07-25', variant1: 295000, variant2: 288000, variant3: 285000 },
                    { date: '2025-07-26', variant1: 280000, variant2: 275000, variant3: 272000 },
                    { date: '2025-07-27', variant1: 298000, variant2: 292000, variant3: 290000 },
                    { date: '2025-07-28', variant1: 265000, variant2: 258000, variant3: 255000 },
                    { date: '2025-07-29', variant1: 290000, variant2: 282000, variant3: 280000 },
                    { date: '2025-07-30', variant1: 330000, variant2: 320000, variant3: 318000 },
                    { date: '2025-07-31', variant1: 315000, variant2: 308000, variant3: 305000 }
                ],
                audit: [
                    { user: 'Sinha, Nikhil', date: '07/10/2025, 11:15 AM', changes: 'status updated "Pending" → "Running"' },
                    { user: 'Sinha, Nikhil', date: '07/10/2025, 11:14 AM', changes: 'readyToStart added true\nreadyToStart_by added "Sinha, Nikhil"' }
                ]
            }
        };

        let currentPlatform = 'ios';
        let reportingChart = null;
        let variantsPieChart = null;

        // Initialize the app
        function init() {
            setupEventListeners();
            updateSectionStates();
            updatePlatformSpecificContent();
            initCharts();
            setupBannerToggle();
            setupSubscriptionToggle();
            setupThemeToggle();
            matchPieChartHeight();
        }

        function matchPieChartHeight() {
            const variantsList = document.querySelector('.variants-list');
            const pieChartContainer = document.querySelector('.pie-chart-container');
            
            if (variantsList && pieChartContainer) {
                const variantsHeight = variantsList.offsetHeight;
                pieChartContainer.style.height = variantsHeight + 'px';
            }
        }

        function setupEventListeners() {
            // Tab switching
            document.querySelectorAll('.tab-item').forEach(tab => {
                tab.addEventListener('click', (e) => {
                    const tabName = e.target.closest('.tab-item').dataset.tab;
                    switchTab(tabName);
                });
            });

            // Platform switching
            document.querySelectorAll('.platform-chip').forEach(chip => {
                chip.addEventListener('click', (e) => {
                    const platform = e.target.closest('.platform-chip').dataset.platform;
                    switchPlatform(platform);
                });
            });

            // Section toggle for sections that have it
            document.querySelectorAll('.section-header:not(.no-toggle)').forEach(header => {
                header.addEventListener('click', (e) => {
                    e.preventDefault();
                    const section = header.parentElement;
                    const sectionName = section.dataset.section;
                    if (sectionName) {
                        toggleSection(sectionName);
                    }
                });
            });

            // Window resize event to maintain height matching
            window.addEventListener('resize', () => {
                setTimeout(matchPieChartHeight, 100);
            });
        }

        function switchTab(tabName) {
            if (tabName === currentTab) return;
            
            // Update active tab
            document.querySelectorAll('.tab-item').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            currentTab = tabName;

            // Initialize charts when switching to tabs that contain them
            if (tabName === 'configuration' || tabName === 'results') {
                setTimeout(() => {
                    if (!variantsPieChart && tabName === 'configuration') {
                        initCharts();
                    }
                    if (!reportingChart && tabName === 'results') {
                        initReportingChart();
                    }
                    matchPieChartHeight();
                }, 100);
            }
        }

        function setupThemeToggle() {
            const themeToggle = document.getElementById('theme-toggle');
            
            themeToggle.addEventListener('click', () => {
                currentTheme = currentTheme === 'light' ? 'dark' : 'light';
                document.body.setAttribute('data-theme', currentTheme);
                updateChartsForTheme();
            });
        }

        function updateChartsForTheme() {
            // Update chart colors based on theme
            if (reportingChart) {
                const isDark = currentTheme === 'dark';
                
                reportingChart.options.plugins.legend.labels.color = isDark ? '#f1f5f9' : '#2c3e50';
                reportingChart.options.scales.x.ticks.color = isDark ? '#cbd5e1' : '#6c757d';
                reportingChart.options.scales.y.ticks.color = isDark ? '#cbd5e1' : '#6c757d';
                reportingChart.options.scales.x.grid.color = isDark ? '#374151' : '#e9ecef';
                reportingChart.options.scales.y.grid.color = isDark ? '#374151' : '#e9ecef';
                
                reportingChart.update();
            }
            
            if (variantsPieChart) {
                const isDark = currentTheme === 'dark';
                
                variantsPieChart.options.plugins.legend.labels.color = isDark ? '#f1f5f9' : '#2c3e50';
                variantsPieChart.update();
            }
        }

        function setupBannerToggle() {
            const allBannersCheckbox = document.getElementById('all-banners');
            const individualBanners = document.querySelector('.individual-banners');
            const individualCheckboxes = document.querySelectorAll('.individual-banner');

            if (!allBannersCheckbox) return;

            // When "All Banners" is toggled
            allBannersCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    individualBanners.classList.add('hidden');
                    // Check all individual banners when "All Banners" is checked
                    individualCheckboxes.forEach(cb => cb.checked = true);
                } else {
                    individualBanners.classList.remove('hidden');
                }
            });

            // When individual banners are toggled
            individualCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const allChecked = Array.from(individualCheckboxes).every(cb => cb.checked);
                    
                    if (allChecked) {
                        // If all individual banners are checked, check "All Banners" and hide individuals
                        allBannersCheckbox.checked = true;
                        individualBanners.classList.add('hidden');
                    } else {
                        // If not all are checked, ensure "All Banners" is unchecked
                        allBannersCheckbox.checked = false;
                    }
                });
            });
        }

        function setupSubscriptionToggle() {
            const heartSection = document.getElementById('heart-toggle');
            const subscribersButton = document.getElementById('subscribers-button');
            const subscriberCountEl = document.getElementById('subscriber-count');
            const tooltip = document.querySelector('.subscription-tooltip');
            let isSubscribed = false;
            let currentCount = 12;

            // Sample subscribers data
            const subscribersData = [
                { name: 'Alex Rodriguez', role: 'Product Manager', initials: 'AR', date: '2 days ago' },
                { name: 'Jordan Kim', role: 'Senior Developer', initials: 'JK', date: '3 days ago' },
                { name: 'Taylor Walsh', role: 'UX Designer', initials: 'TW', date: '5 days ago' },
                { name: 'Morgan Chen', role: 'QA Engineer', initials: 'MC', date: '1 week ago' },
                { name: 'Casey Thompson', role: 'Data Analyst', initials: 'CT', date: '1 week ago' },
                { name: 'Riley Martinez', role: 'Frontend Developer', initials: 'RM', date: '2 weeks ago' },
                { name: 'Avery Parker', role: 'Product Owner', initials: 'AP', date: '2 weeks ago' },
                { name: 'Quinn Foster', role: 'Marketing Manager', initials: 'QF', date: '3 weeks ago' },
                { name: 'Sage Williams', role: 'Business Analyst', initials: 'SW', date: '3 weeks ago' },
                { name: 'Drew Mitchell', role: 'DevOps Engineer', initials: 'DM', date: '1 month ago' },
                { name: 'Emery Davis', role: 'Research Lead', initials: 'ED', date: '1 month ago' },
                { name: 'Phoenix Lee', role: 'Technical Writer', initials: 'PL', date: '2 months ago' }
            ];

            // Heart icon click - subscription toggle
            heartSection.addEventListener('click', function(e) {
                e.stopPropagation();
                isSubscribed = !isSubscribed;
                
                const subscriberPill = heartSection.closest('.subscriber-pill');
                
                if (isSubscribed) {
                    subscriberPill.classList.add('subscribed');
                    tooltip.textContent = 'Unsubscribe from notifications';
                    currentCount++;
                } else {
                    subscriberPill.classList.remove('subscribed');
                    tooltip.textContent = 'Subscribe to get notifications';
                    currentCount--;
                }
                
                subscriberCountEl.textContent = currentCount;
            });

            // Subscribers text click - show popup
            subscribersButton.addEventListener('click', function(e) {
                e.stopPropagation();
                showSubscribersModal();
            });

            function showSubscribersModal() {
                // Create modal if it doesn't exist
                let modal = document.getElementById('subscribers-modal');
                if (!modal) {
                    modal = createSubscribersModal();
                    document.body.appendChild(modal);
                }
                
                // Update subscriber count in modal
                const modalTitle = modal.querySelector('.subscribers-modal-title');
                modalTitle.textContent = `${currentCount} Subscribers`;
                
                // Populate subscribers list
                const subscribersList = modal.querySelector('.subscribers-list');
                subscribersList.innerHTML = subscribersData.map(subscriber => `
                    <div class="subscriber-item">
                        <div class="subscriber-avatar">${subscriber.initials}</div>
                        <div class="subscriber-details">
                            <div class="subscriber-name">${subscriber.name}</div>
                            <div class="subscriber-role">${subscriber.role}</div>
                        </div>
                        <div class="subscriber-date">${subscriber.date}</div>
                    </div>
                `).join('');
                
                // Show modal
                modal.classList.add('show');
                document.body.style.overflow = 'hidden';
            }

            function createSubscribersModal() {
                const modal = document.createElement('div');
                modal.id = 'subscribers-modal';
                modal.className = 'subscribers-modal';
                modal.innerHTML = `
                    <div class="subscribers-modal-content">
                        <div class="subscribers-modal-header">
                            <h3 class="subscribers-modal-title">12 Subscribers</h3>
                            <button class="subscribers-modal-close" id="close-subscribers-modal">×</button>
                        </div>
                        <div class="subscribers-list"></div>
                    </div>
                `;

                // Close modal functionality
                const closeButton = modal.querySelector('#close-subscribers-modal');
                closeButton.addEventListener('click', closeModal);
                
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeModal();
                    }
                });

                function closeModal() {
                    modal.classList.remove('show');
                    document.body.style.overflow = '';
                }

                // ESC key to close modal
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && modal.classList.contains('show')) {
                        closeModal();
                    }
                });

                return modal;
            }
        }

        function switchPlatform(platform) {
            if (platform === currentPlatform) return;
            
            // Update active platform chip
            document.querySelectorAll('.platform-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            document.querySelector(`[data-platform="${platform}"]`).classList.add('active');
            
            // Update audit log title
            const auditLogTitle = document.getElementById('audit-log-title');
            if (auditLogTitle) {
                auditLogTitle.textContent = `Audit Log for ${platform.toUpperCase()} experiment`;
            }
            
            // Update reporting title
            const reportingTitle = document.getElementById('reporting-title');
            if (reportingTitle) {
                reportingTitle.textContent = `Results for ${platform.toUpperCase()}`;
            }
            
            currentPlatform = platform;
            updatePlatformSpecificContent();
        }

        function updatePlatformSpecificContent() {
            // Update reporting chart
            if (reportingChart) {
                updateChart();
            }
            
            // Update audit log
            updateAuditLog();
        }

        function toggleSection(sectionName) {
            sectionStates[sectionName] = !sectionStates[sectionName];
            updateSectionStates();
        }

        function toggleTask(checkbox) {
            const isChecked = checkbox.classList.contains('checked');
            const taskItem = checkbox.closest('.checklist-task-item');
            
            if (!isChecked) {
                checkbox.classList.add('checked');
                checkbox.innerHTML = '✓';
                taskItem.classList.remove('required');
                taskItem.classList.add('completed');
                
                // Update status
                const status = taskItem.querySelector('.task-status');
                status.textContent = 'Completed';
                status.className = 'task-status status-completed';
                
                // Add signed off by
                const details = taskItem.querySelector('.task-details');
                const currentDate = new Date().toLocaleDateString('en-US', {
                    month: '2-digit',
                    day: '2-digit',
                    year: 'numeric'
                });
                const currentTime = new Date().toLocaleTimeString('en-US', {
                    hour: '2-digit',
                    minute: '2-digit',
                    hour12: true
                });
                
                details.innerHTML += `<div class="signed-off-by">✓ Completed on ${currentDate}, ${currentTime}</div>`;
            }
        }

        function updateSectionStates() {
            Object.keys(sectionStates).forEach(sectionName => {
                const sections = document.querySelectorAll(`[data-section="${sectionName}"]`);
                sections.forEach(section => {
                    if (sectionStates[sectionName]) {
                        section.classList.add('expanded');
                    } else {
                        section.classList.remove('expanded');
                    }
                });
            });
        }

        function initCharts() {
            // Initialize Pie Chart for Variants (only if we're on configuration tab)
            const pieCtx = document.getElementById('variantsPieChart');
            if (pieCtx && !variantsPieChart) {
                variantsPieChart = new Chart(pieCtx, {
                    type: 'pie',
                    data: {
                        labels: ['A — Current add to cart experience', 'B — New 1ATC experience', 'C — Enhanced 1ATC with quantity selector'],
                        datasets: [{
                            data: [20, 40, 40],
                            backgroundColor: ['#ff6b6b', '#4ecdc4', '#9b59b6'],
                            borderWidth: 2,
                            borderColor: '#ffffff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                align: 'start',
                                labels: {
                                    padding: 20,
                                    usePointStyle: true,
                                    pointStyle: 'circle',
                                    font: {
                                        size: 12
                                    },
                                    color: currentTheme === 'dark' ? '#f1f5f9' : '#2c3e50',
                                    textAlign: 'left',
                                    generateLabels: function(chart) {
                                        const data = chart.data;
                                        if (data.labels.length && data.datasets.length) {
                                            return data.labels.map((label, i) => {
                                                const dataset = data.datasets[0];
                                                // Fixed character limit with ellipsis
                                                const maxChars = 28;
                                                let truncatedLabel = label.length > maxChars ? 
                                                    label.substring(0, maxChars) + '...' : 
                                                    label;
                                                
                                                return {
                                                    text: truncatedLabel,
                                                    fillStyle: dataset.backgroundColor[i],
                                                    strokeStyle: dataset.borderColor,
                                                    lineWidth: dataset.borderWidth,
                                                    pointStyle: 'circle',
                                                    hidden: false
                                                };
                                            });
                                        }
                                        return [];
                                    }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.label + ': ' + context.parsed + '%';
                                    }
                                },
                                bodyFont: {
                                    size: 13
                                },
                                padding: 12,
                                cornerRadius: 6,
                                displayColors: true,
                                boxWidth: 12,
                                boxHeight: 12
                            }
                        }
                    }
                });

                // Match pie chart height after charts are initialized
                setTimeout(matchPieChartHeight, 100);
            }

            // Initialize Reporting Chart (only if we're on results tab)
            initReportingChart();
        }

        function initReportingChart() {
            const ctx = document.getElementById('reportingChart');
            if (ctx && !reportingChart) {
                const data = platformData[currentPlatform].reporting;
                
                reportingChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: data.map(d => d.date.substring(5)),
                        datasets: [{
                            label: 'Variant A',
                            data: data.map(d => d.variant1),
                            borderColor: '#dc2626',
                            backgroundColor: 'rgba(220, 38, 38, 0.1)',
                            tension: 0.4,
                            fill: false,
                            pointBackgroundColor: '#dc2626',
                            pointBorderColor: '#dc2626',
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }, {
                            label: 'Variant B',
                            data: data.map(d => d.variant2),
                            borderColor: '#16a34a',
                            backgroundColor: 'rgba(22, 163, 74, 0.1)',
                            tension: 0.4,
                            fill: false,
                            pointBackgroundColor: '#16a34a',
                            pointBorderColor: '#16a34a',
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }, {
                            label: 'Variant C',
                            data: data.map(d => d.variant3),
                            borderColor: '#9333ea',
                            backgroundColor: 'rgba(147, 51, 234, 0.1)',
                            tension: 0.4,
                            fill: false,
                            pointBackgroundColor: '#9333ea',
                            pointBorderColor: '#9333ea',
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    color: currentTheme === 'dark' ? '#f1f5f9' : '#2c3e50'
                                }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: currentTheme === 'dark' ? '#cbd5e1' : '#6c757d'
                                },
                                grid: {
                                    color: currentTheme === 'dark' ? '#374151' : '#e9ecef'
                                }
                            },
                            y: {
                                beginAtZero: false,
                                ticks: {
                                    callback: function(value) {
                                        return value.toLocaleString();
                                    },
                                    color: currentTheme === 'dark' ? '#cbd5e1' : '#6c757d'
                                },
                                grid: {
                                    color: currentTheme === 'dark' ? '#374151' : '#e9ecef'
                                }
                            }
                        },
                        elements: {
                            point: {
                                hoverRadius: 8
                            }
                        },
                        interaction: {
                            mode: 'nearest',
                            axis: 'x',
                            intersect: false
                        }
                    }
                });
            }
        }

        function updateChart() {
            if (!reportingChart) return;
            
            const data = platformData[currentPlatform].reporting;
            reportingChart.data.labels = data.map(d => d.date.substring(5));
            reportingChart.data.datasets[0].data = data.map(d => d.variant1);
            reportingChart.data.datasets[1].data = data.map(d => d.variant2);
            reportingChart.data.datasets[2].data = data.map(d => d.variant3);
            
            // Ensure colors are maintained
            reportingChart.data.datasets[0].borderColor = '#dc2626';
            reportingChart.data.datasets[0].backgroundColor = 'rgba(220, 38, 38, 0.1)';
            reportingChart.data.datasets[0].pointBackgroundColor = '#dc2626';
            reportingChart.data.datasets[0].pointBorderColor = '#dc2626';
            
            reportingChart.data.datasets[1].borderColor = '#16a34a';
            reportingChart.data.datasets[1].backgroundColor = 'rgba(22, 163, 74, 0.1)';
            reportingChart.data.datasets[1].pointBackgroundColor = '#16a34a';
            reportingChart.data.datasets[1].pointBorderColor = '#16a34a';
            
            reportingChart.data.datasets[2].borderColor = '#9333ea';
            reportingChart.data.datasets[2].backgroundColor = 'rgba(147, 51, 234, 0.1)';
            reportingChart.data.datasets[2].pointBackgroundColor = '#9333ea';
            reportingChart.data.datasets[2].pointBorderColor = '#9333ea';
            
            reportingChart.update();
        }

        function updateAuditLog() {
            const auditContent = document.querySelector('#audit-tab .section-content');
            if (!auditContent) return;
            
            const auditData = platformData[currentPlatform].audit;
            
            auditContent.innerHTML = auditData.map(item => `
                <div class="audit-item">
                    <div class="audit-header">
                        <div class="audit-user">${item.user}</div>
                        <div class="audit-date">${item.date}</div>
                    </div>
                    <div class="audit-changes">${item.changes.replace(/\n/g, '<br>')}</div>
                </div>
            `).join('');
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);

        // Make functions globally accessible for onclick handlers
        window.toggleTask = toggleTask;
    </script>
</body>
</html>